; 1 - SUMAR EN EAX, LOS VALORES DE M1, M2 y M3, ADEMÁS DEBE MOSTRAR EL RESULTADO EN PANTALLA.
; 2 - ALMACENAR N2 EN BX Y RESTARLE LOS VALORES DE N1 AND N3
; 3 - ASIGNAR EN CH EL VALOR DE N3, LE SUME EL VALOR DE M3 E INCREMENTE EN 1 CH
; 4 - GUARDAR EN DX, LA FORMULA DX = (N1+M2-N3)+2 
; 5 - MOSTRAR LOS REGISTROS DE PROPÓSITO GENERAL ANTES DE REALIZAR TODAS LAS OPERACIONES
;		Y DESPÚES DE REALIZAR LAS OPERACIONES.
; =>> IMPORTANTE:
; 		- NO PUEDE USAR MOVZX, MOVZS y  PTR.

TITLE VALER_QUESITO
INCLUDE IRVINE32.INC
;@AUTHOR: GABRIELA DOMÍNGUEZ HERNÁNDEZ
;@COUNTRY: EL SALVADOR, CENTRO AMÉRICA.
.DATA
	M1 BYTE 15 
	M2 DWORD 66
	M3 WORD 32 
	N1 DWORD 27
	N2 BYTE 241
	N3 WORD 91 
	BEFORE BYTE "REGISTROS DE PROPÓSITO GENERAL ANTES",0
	AFTER BYTE "REGISTROS DE PROPÓSITO GENERAL DESPUES",0
.CODE
	MAIN PROC
		CALL CLRSCR
		MOV EDX, OFFSET BEFORE
		CALL WRITESTRING
		
		;PUNTO 5 PARTE 1
		CALL CRLF
		CALL DUMPREGS
		CALL CRLF
		
		MOV EAX, 0
		MOV EBX, 0
		MOV ECX, 0
		MOV EDX, 0
		
		;PUNTO 1
		MOV EAX, 0
		MOV BL, M1
		ADD AX, BX	;EAX + M1
		MOV BX, M3
		ADD AX, BX	; EAX + M3
		ADD EAX, M2		; EAX + M2
		;MOSTRAR EL RESULTADO EN PANTALLA
		CALL WRITEDEC
		
		;PUNTO 2
		; ALMACENAR N2 EN BX Y RESTARLE LOS VALORES DE N1 AND N3
		MOV EBX,0
		MOV ECX,0
		MOV BL, N2
		MOV ECX, N1
		SUB BX, CX
		SUB BX, N3
		
		;PUNTO 3
		;ASIGNAR EN CH EL VALOR DE N3, 
		;SUME EL VALOR DE M3 E INCREMENTE EN 1 CH
		MOV ECX,0
		MOV CX, N3
		MOV CX, M3
		MOV DH, CH
		ADD CH, DH
		INC CH
		
		;PUNTO 4
		;GUARDAR EN DX, LA FORMULA DX = (N1 + M2 - N3)+2 
		MOV EDX, 0
		MOV EDI, N1
		ADD DX, DI
		MOV ESI, M2
		ADD DX, SI
		SUB DX, N3
		ADD DX, 2
		
		CALL CRLF
		MOV EDX, OFFSET AFTER
		CALL WRITESTRING
		CALL CRLF
		
		;PUNTO 5 PARTE 2
		CALL CRLF
		CALL DUMPREGS
		
		EXIT
		
	MAIN ENDP
	END MAIN